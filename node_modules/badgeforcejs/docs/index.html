<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>badgeforcejs</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">badgeforcejs</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> badgeforcejs</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="badgeforcejs-img-align-right-src-assets-logo-png-height-40px-border-0-">badgeforcejs <img align="right" src="./assets/logo.png" height="40px" border="0"/></h1>
				<p><a href="https://badgeforce.github.io/badgeforcejs/"><img src="https://img.shields.io/badge/documentation-passing-blue.svg" alt="Documentation"></a></p>
				<p>JavaScript API module for interacting with BadgeForce smart contracts. This module attempts to abstract away a lot of manual setup and configuration that needs to be done in order to interact
				with smart contracts, making development faster and concise. This module can be used to build dashboards, webapps, tools etc for BadgeForce smart contracts.</p>
				<h2 id="getting-started">Getting Started</h2>
				<p>These instructions will get you up and running.</p>
				<h3 id="install">Install</h3>
				<p>Install badgeforcejs with either yarn or npm</p>
				<h6 id="yarn">Yarn</h6>
				<pre><code class="lang-sh">$ yarn add badgeforcejs
</code></pre>
				<h6 id="npm">NPM</h6>
				<pre><code class="lang-sh">$ npm install badgeforcejs
</code></pre>
				<h3 id="usage">Usage</h3>
				<p>These are the steps to start interacting with a deployed BadgeForce smart contract. We will use
				the BadgeForce Holder smart contract as a reference as we go through the usage of this module.</p>
				<h4 id="modules">Modules</h4>
				<p>Each official BadgeForce smart contract has an JavaScript module to interact with it. These are split into two JavaScript classes, a client class and a api class (named export matches contract name). The client classes is configured once and then used to get instances of an api class instantiated with the data of the smart contract a a particular address.</p>
				<p>i.e: The BadgeForce Holder smart contract has HolderClient and Holder JavaScript classes associated with it. The HolderClient is configured and then used to get Holder objects at a particular smart contract address</p>
				<h6 id="configuration">Configuration</h6>
				<p>Before you can start using the client classes you must define a configuration object for them called ContractConfig. The ContractConfig object lets the client objects know the address of your ethereum node, the smart contract JSON ABI to use, signer account for transactions, and the roof amount of gas to be sent with each transaction.</p>
				<pre><code class="lang-js"><span class="hljs-comment">// this is the JSON ABI file exported from the badgeforce project for the Holder smart contract</span>
<span class="hljs-keyword">const</span> holderArtifacts = <span class="hljs-built_in">require</span>(<span class="hljs-string">"badgeforce"</span>).holder;

<span class="hljs-comment">// the http endpoint of your running ethereum node</span>
<span class="hljs-keyword">const</span> ethereumNodeHost = <span class="hljs-string">"http://127.0.0.1:8545"</span>;

<span class="hljs-comment">// index of the account that you want to be set as the transaction signer</span>
<span class="hljs-keyword">const</span> accountIndex = <span class="hljs-number">0</span>;

<span class="hljs-comment">// roof amount of gas to be sent with transactions</span>
<span class="hljs-keyword">const</span> gas = <span class="hljs-number">7500000</span>;

<span class="hljs-comment">// create a new ContractConfig object for your HolderClient object</span>
<span class="hljs-keyword">const</span> holderClientConfig = <span class="hljs-keyword">new</span> ContractConfig(ethereumNodeHost, holderArtifacts, accountIndex, gas, netWorkId);

<span class="hljs-comment">// now get a HolderClient object that will be used to produce instances of the Holder class instantiated with the data of a Holder smart contract deployed at a specific address</span>
<span class="hljs-keyword">const</span> holderClient = <span class="hljs-keyword">new</span> HolderClient(holderClientConfig);
</code></pre>
				<h6 id="client-object">Client Object</h6>
				<p>Now that are client object is configured we can use it to interact with a deployed Holder smart contract by using the getInstance method passing the address of the deployed contract  </p>
				<pre><code class="lang-js"><span class="hljs-comment">// this is the address of your deployed Holder smart contract</span>
<span class="hljs-keyword">const</span> contractAddress = <span class="hljs-string">"0x90f8bf6a479f320ead074411a4b0e7944ea8c9c1"</span>;

<span class="hljs-comment">// Holder object instantiated with the data of a Holder smart contract deployed at contractAddress</span>
<span class="hljs-keyword">const</span> holder = <span class="hljs-keyword">await</span> holderClient.getInstance(contractAddress);
</code></pre>
				<h6 id="api-object-classes-holder-issuer-etc-">API Object Classes (Holder, Issuer, etc)</h6>
				<p>With our new Holder Object we can call any methods on it we want. These methods invoke the corresponding functions on the smart contract. All instance methods on the API classes return promises</p>
				<p>i.e: To get the number of credentials a holder has</p>
				<pre><code class="lang-js"><span class="hljs-keyword">const</span> numberOfCredentials = <span class="hljs-keyword">await</span> holder.getNumberOfCredentials();
</code></pre>
				<h3 id="running-tests">Running Tests</h3>
				<p>All the test are ran with Jest and are functional test that use ganache-cli as a test ethereum node.</p>
				<h6 id="manual-running">Manual Running</h6>
				<p>First make sure your ganache-cli instance is running on port 8000 and has a networkId of 3000. The test instance is started with a very low gas price and a very high initial Ether amount for the accounts to make sure test don&#39;t run out of gas. The default account at index 0 is used and unlocked</p>
				<pre><code class="lang-sh">$ node_modules/ganache-cli/build/cli.node.js -l 450000000 -g .5 -networkid 3000 -p 8000 -e 90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 -u 0
</code></pre>
				<p>Now run the test</p>
				<pre><code class="lang-sh">$ yarn <span class="hljs-built_in">test</span>
</code></pre>
				<h6 id="automated-e2e-running">Automated E2E Running</h6>
				<p>We use forever and wait-on to run test in a automated fashion. forever starts up our ganache-cli instance and a test server. The test server runs on a different port as the ganache-cli instance and has a check endpoint that will return a 200 OK http status code if the ganache-cli instance is listening for connections, we use the wait-on module to ping the test server and wait for the 200 response indicating the ganache-cli is ready before we run the test task</p>
				<pre><code class="lang-sh">$ yarn <span class="hljs-built_in">test</span>:e2e
</code></pre>
				<p>If any of the test fail make sure to stop those forever processes manually</p>
				<pre><code class="lang-sh">$ yarn stop:test_servers
</code></pre>
				<h2 id="license">License</h2>
				<p>This project is licensed under the MIT License - see the <a href="LICENSE">LICENSE</a> file for details</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/account.html" class="tsd-kind-icon">Account</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/accountimporter.html" class="tsd-kind-icon">Account<wbr>Importer</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/artifactconfig.html" class="tsd-kind-icon">Artifact<wbr>Config</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/badgeforcetoken.html" class="tsd-kind-icon">Badge<wbr>Force<wbr>Token</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/badgeforcetokenclient.html" class="tsd-kind-icon">Badge<wbr>Force<wbr>Token<wbr>Client</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/contract.html" class="tsd-kind-icon">Contract</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/contractconfig.html" class="tsd-kind-icon">Contract<wbr>Config</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/credential.html" class="tsd-kind-icon">Credential</a>
					</li>
					<li class=" tsd-kind-class tsd-is-external tsd-is-not-exported">
						<a href="classes/holder.html" class="tsd-kind-icon">Holder</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/holderclient.html" class="tsd-kind-icon">Holder<wbr>Client</a>
					</li>
					<li class=" tsd-kind-class tsd-is-external tsd-is-not-exported">
						<a href="classes/holderfactory.html" class="tsd-kind-icon">Holder<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/holderfactoryclient.html" class="tsd-kind-icon">Holder<wbr>Factory<wbr>Client</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/holderinfo.html" class="tsd-kind-icon">Holder<wbr>Info</a>
					</li>
					<li class=" tsd-kind-class tsd-is-external tsd-is-not-exported">
						<a href="classes/issuer.html" class="tsd-kind-icon">Issuer</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/issuerbadge.html" class="tsd-kind-icon">Issuer<wbr>Badge</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/issuerclient.html" class="tsd-kind-icon">Issuer<wbr>Client</a>
					</li>
					<li class=" tsd-kind-class tsd-is-external tsd-is-not-exported">
						<a href="classes/issuerfactory.html" class="tsd-kind-icon">Issuer<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/issuerfactoryclient.html" class="tsd-kind-icon">Issuer<wbr>Factory<wbr>Client</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/issuerinfo.html" class="tsd-kind-icon">Issuer<wbr>Info</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/verifyresponse.html" class="tsd-kind-icon">Verify<wbr>Response</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#authorizedissuer" class="tsd-kind-icon">Authorized<wbr>Issuer</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#badgelibrary" class="tsd-kind-icon">Badge<wbr>Library</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#badgemanager" class="tsd-kind-icon">Badge<wbr>Manager</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#transactionmanager" class="tsd-kind-icon">Transaction<wbr>Manager</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#verifier" class="tsd-kind-icon">Verifier</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#authorizedissuer" class="tsd-kind-icon">authorized<wbr>Issuer</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#badgeforcetoken" class="tsd-kind-icon">badge<wbr>Force<wbr>Token</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#badgelibrary" class="tsd-kind-icon">badge<wbr>Library</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#badgemanager" class="tsd-kind-icon">badge<wbr>Manager</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#contract" class="tsd-kind-icon">contract</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#ganachehost" class="tsd-kind-icon">ganache<wbr>Host</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#holderartifacts" class="tsd-kind-icon">holder<wbr>Artifacts</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#holderfactory" class="tsd-kind-icon">holder<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#issuerartifacts" class="tsd-kind-icon">issuer<wbr>Artifacts</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#issuerfactory" class="tsd-kind-icon">issuer<wbr>Factory</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#provider" class="tsd-kind-icon">provider</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#transactionmanager" class="tsd-kind-icon">transaction<wbr>Manager</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external tsd-is-not-exported">
						<a href="globals.html#verifier" class="tsd-kind-icon">verifier</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#web3" class="tsd-kind-icon">web3</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#gettestaccounts" class="tsd-kind-icon">get<wbr>Test<wbr>Accounts</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#gettestinstances" class="tsd-kind-icon">get<wbr>Test<wbr>Instances</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#gettokenaddress" class="tsd-kind-icon">get<wbr>Token<wbr>Address</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external tsd-is-not-exported">
						<a href="globals.html#linklibs" class="tsd-kind-icon">link<wbr>Libs</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#parseholderaddrres" class="tsd-kind-icon">parse<wbr>Holder<wbr>Addr<wbr>Res</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#parseissuerraddrres" class="tsd-kind-icon">parse<wbr>Issuerr<wbr>Addr<wbr>Res</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#wallettoprivatekey" class="tsd-kind-icon">wallet<wbr>ToPrivate<wbr>Key</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>