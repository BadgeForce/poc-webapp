import * as Wallet from 'ethereumjs-wallet';
import {AccountImporter} from "../index";
describe("Accounts api", () => {
	let accountImporter;
	let wallet;
	const password = "BadgeForce";
	const address = "0x90f8bf6a479f320ead074411a4b0e7944ea8c9c1";
	const privateKey = "4f3edf983ac636a65a842ce7c78d9aa706d3b113bce9c46f30d7d21715b23b1d";
	beforeEach(() => {
		accountImporter = new AccountImporter();
		const key = new Buffer(privateKey, 'hex');
		wallet = Wallet.fromPrivateKey(key);
	})
	it("should import account from privateKeyRaw", async () => {
		const account = await accountImporter.importAccountRaw(privateKey);
		expect(account.address).toBe(address);
	});
	it("should import account from wallet using password", async () => {
		const v3 = wallet.toV3(password);
		const account = await accountImporter.importAccountJSON(v3, password);
		expect(account.address).toBe(address);
	});
});
